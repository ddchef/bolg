---
title: 前端微服务架构实战
---
## 缘起
在产品迭代过程中，由于客户定制需求多，部署到客户现场的定制内容也多；之后的主线版本升级时，客户现场的定制版本就无法升级，导致了研发团队要维护多个主线版本。常年的定制积累，最后发现研发人员人力完全不够，而且主线新开的功能也不能用于客户现场，最后慢慢的迷失在用户的需求定制当中。  


今年年初，在通过一段时间的探索过后，决定用微服务的模式解决定制需求的问题。这样主版本和定制版本就完全分离了，以后主版本升级不会影响到定制版本，也就不会因为维护多主线版本而导致人力分散，客户也可以及时使用我们最新版本的功能。

## 技术选型
目前市面上比较成熟的微服务框架的话主要是阿里的`乾坤`和`single-spa`，乾坤是基于single-spa封装了扩展了功能，但是我们的业务场景不太符合。我们没有沙盒隔离和样式隔离的需求，因为我们都同一个工程分出去的代码，在样式和底层业务逻辑都是一致的，而且，经过三到四年的沉淀，基本很稳定。所以选用了single-spa作为我们的微服务框架。

## 实战